<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level 3</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <center>
        <div class="navbar">
          <div class="links">
            <a style="color: white;" href="index.html">Level 1</a>
            <a style="color: white;" href="level2.html">LEVEL 2</a>
            <a style="color: white;" href="level3.html">LEVEL 3</a>
            <a id="levels" style="color: white;" href="final.html">Victory!</a>
          </div>
        </div>
    </center>
    <h1 id="narrator">You're at the End</h1>
    <div class="content">
        <p>Everything you need is just a <strong><u>right</u></strong> click away.</p>
    </div>
    <div class="pswd">
        <input id="pswd" type="password" placeholder="secret...">
        <button type="submit" id="submit"><img class="arrow" src="img/arrow.png" alt="Arrow Icon"></button>
    </div>
    <div class="footer">
        <p>Â© 2025 unixthug, All Rights Reserved</p>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const passwordInput = document.getElementById("pswd");
            const submitButton = document.getElementById("submit");
            const targetElement = document.getElementById("levels");
            const narrator = document.getElementById("narrator");
            const correctPassword = "knockknock";
            const finalPassword = "wowyoufoundme"
            const zipLink = "https://www.dropbox.com/scl/fi/rruji67zfsmiszk1i1qde/finale.zip?rlkey=sz960wjt7k7ignkmhcom0wjng&st=9yz53xbc&dl=0"
            
            passwordInput.addEventListener("keyup", function (e) {
                if (e.key === "Enter") {
                    submitButton.click();
                    e.preventDefault();
                }
            });

            submitButton.addEventListener("click", function () {
                if (passwordInput.value.toLowerCase() === correctPassword) {
                    const link = document.createElement("a");
                    link.href = zipLink;
                    link.target = "_blank";
                    link.textContent = "Follow the Yellow Brick Road";
                    narrator.textContent = "";
                    narrator.appendChild(link);
                } else if (passwordInput.value.toLowerCase() === finalPassword) {
                    targetElement.style.display = "inline";
                    narrator.style.whiteSpace = "pre-Line"
                    narrator.textContent = "Well Done!\nProceed to the Finish Line!";
                    narrator.style.color = "green";
                } else {
                    targetElement.style.display = "none";
                    narrator.textContent = "Incorrect Password";
                    narrator.style.color = "red";
                    narrator.classList.add("flash-fade");

                    // Hide after animation
                    setTimeout(() => {
                        narrator.textContent = "You're at the End";
                        narrator.style.color = "white";
                        narrator.classList.remove("flash-fade");
                    }, 5000); // Adjust to match animation duration
                }
            });
        });
    </script>
</body>
<!--Your flag is in another castle!-->
<!-- .--. .- ... ... .-- --- .-. -..
-...-
-.- -. --- -.-. -.- -.- -. --- -.-. -.- -->
</html>
